import{g as we,r as a}from"../vendor-952fae59.js";var Se=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),s=i.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!==0;){var c=i[n];if(!t(e[c],r[c]))return!1}return!0}return e!==e&&r!==r};const J=we(Se);function M(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const s=t[r];return s!=null&&s!==!1&&(e[r]=s),e},{})}var he=Object.defineProperty,Q=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,U=(t,e,r)=>e in t?he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,De=(t,e)=>{for(var r in e||(e={}))Ie.call(e,r)&&U(t,r,e[r]);if(Q)for(var r of Q(e))Ae.call(e,r)&&U(t,r,e[r]);return t};function fe(t,e){if(e===null||typeof e!="object")return{};const r=De({},e);return Object.keys(e).forEach(s=>{s.includes(`${String(t)}.`)&&delete r[s]}),r}const Fe="__MANTINE_FORM_INDEX__";function Y(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]/g,`.${Fe}`)):!1:!1}function x(t,e,r){typeof r.value=="object"&&(r.value=S(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function S(t){if(typeof t!="object")return t;var e=0,r,s,n,i=Object.prototype.toString.call(t);if(i==="[object Object]"?n=Object.create(t.__proto__||null):i==="[object Array]"?n=Array(t.length):i==="[object Set]"?(n=new Set,t.forEach(function(c){n.add(S(c))})):i==="[object Map]"?(n=new Map,t.forEach(function(c,p){n.set(S(p),S(c))})):i==="[object Date]"?n=new Date(+t):i==="[object RegExp]"?n=new RegExp(t.source,t.flags):i==="[object DataView]"?n=new t.constructor(S(t.buffer)):i==="[object ArrayBuffer]"?n=t.slice(0):i.slice(-6)==="Array]"&&(n=new t.constructor(t)),n){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)x(n,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(n,r=s[e])&&n[r]===t[r]||x(n,r,Object.getOwnPropertyDescriptor(t,r))}return n||t}function ae(t){return typeof t!="string"?[]:t.split(".")}function R(t,e,r){const s=ae(t);if(s.length===0)return r;const n=S(r);if(s.length===1)return n[s[0]]=e,n;let i=n[s[0]];for(let c=1;c<s.length-1;c+=1){if(i===void 0)return n;i=i[s[c]]}return i[s[s.length-1]]=e,n}function v(t,e){const r=ae(t);if(r.length===0||typeof e!="object"||e===null)return;let s=e[r[0]];for(let n=1;n<r.length&&s!==void 0;n+=1)s=s[r[n]];return s}function ee(t){const e=M(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function W(t,e,r="",s={}){return typeof t!="object"||t===null?s:Object.keys(t).reduce((n,i)=>{const c=t[i],p=`${r===""?"":`${r}.`}${i}`,f=v(p,e);let O=!1;return typeof c=="function"&&(n[p]=c(f,e,p)),typeof c=="object"&&Array.isArray(f)&&(O=!0,f.forEach((b,m)=>W(c,e,`${p}.${m}`,n))),typeof c=="object"&&typeof f=="object"&&f!==null&&(O||W(c,e,p,n)),n},s)}function q(t,e){return ee(typeof t=="function"?t(e):W(t,e))}function N(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const s=q(e,r),n=Object.keys(s.errors).find(i=>t.split(".").every((c,p)=>c===i.split(".")[p]));return{hasError:!!n,error:n?s.errors[n]:null}}function Le(t,{from:e,to:r},s){const n=v(t,s);if(!Array.isArray(n))return s;const i=[...n],c=n[e];return i.splice(e,1),i.splice(r,0,c),R(t,i,s)}var Ne=Object.defineProperty,re=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,te=(t,e,r)=>e in t?Ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ke=(t,e)=>{for(var r in e||(e={}))Re.call(e,r)&&te(t,r,e[r]);if(re)for(var r of re(e))Te.call(e,r)&&te(t,r,e[r]);return t};function Ve(t,{from:e,to:r},s){const n=`${t}.${e}`,i=`${t}.${r}`,c=ke({},s);return Object.keys(s).every(p=>{let f,O;if(p.startsWith(n)&&(f=p,O=p.replace(n,i)),p.startsWith(i)&&(f=p.replace(i,n),O=p),f&&O){const b=c[f],m=c[O];return m===void 0?delete c[f]:c[f]=m,b===void 0?delete c[O]:c[O]=b,!1}return!0}),c}function Ce(t,e,r){const s=v(t,r);return Array.isArray(s)?R(t,s.filter((n,i)=>i!==e),r):r}var Me=Object.defineProperty,oe=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,ne=(t,e,r)=>e in t?Me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,He=(t,e)=>{for(var r in e||(e={}))We.call(e,r)&&ne(t,r,e[r]);if(oe)for(var r of oe(e))qe.call(e,r)&&ne(t,r,e[r]);return t};function se(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function ie(t,e,r,s){if(e===void 0)return r;const n=`${String(t)}`;let i=r;s===-1&&(i=fe(`${n}.${e}`,i));const c=He({},i),p=new Set;return Object.entries(i).filter(([f])=>{if(!f.startsWith(`${n}.`))return!1;const O=se(f,n);return Number.isNaN(O)?!1:O>=e}).forEach(([f,O])=>{const b=se(f,n),m=f.replace(`${n}.${b}`,`${n}.${b+s}`);c[m]=O,p.add(m),p.has(f)||delete c[f]}),c}function Be(t,e,r,s){const n=v(t,s);if(!Array.isArray(n))return s;const i=[...n];return i.splice(typeof r=="number"?r:i.length,0,e),R(t,i,s)}function ce(t,e){const r=Object.keys(t);if(typeof e=="string"){const s=r.filter(n=>n.startsWith(`${e}.`));return t[e]||s.some(n=>t[n])||!1}return r.some(s=>t[s])}function Ke(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const Xe=typeof window<"u"?a.useLayoutEffect:a.useEffect;function _(t,e){Xe(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function ze(t,e){t&&Ke(t),_(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),_(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),_(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),_(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),_(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),_(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),_(`mantine-form:${t}:clear-errors`,e.clearErrors),_(`mantine-form:${t}:reset`,e.reset),_(`mantine-form:${t}:validate`,e.validate),_(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),_(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),_(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),_(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),_(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),_(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),_(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),_(`mantine-form:${t}:reset-touched`,e.resetTouched)}function Ze(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}var Ge=Object.defineProperty,Je=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,ue=(t,e,r)=>e in t?Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g=(t,e)=>{for(var r in e||(e={}))Ue.call(e,r)&&ue(t,r,e[r]);if(le)for(var r of le(e))Ye.call(e,r)&&ue(t,r,e[r]);return t},C=(t,e)=>Je(t,Qe(e));function er({name:t,initialValues:e={},initialErrors:r={},initialDirty:s={},initialTouched:n={},clearInputErrorOnChange:i=!0,validateInputOnChange:c=!1,validateInputOnBlur:p=!1,onValuesChange:f,transformValues:O=m=>m,validate:b}={}){const[m,I]=a.useState(n),[T,A]=a.useState(s),[y,j]=a.useState(e),[H,P]=a.useState(M(r)),D=a.useRef(e),B=o=>{D.current=o},K=a.useCallback(()=>I({}),[]),de=o=>{const l=o?g(g({},y),o):y;B(l),A({})},k=a.useCallback(o=>P(l=>M(typeof o=="function"?o(l):o)),[]),V=a.useCallback(()=>P({}),[]),X=a.useCallback(()=>{j(D.current),V(),A({}),K()},[]),h=a.useCallback((o,l)=>k(u=>C(g({},u),{[o]:l})),[]),F=a.useCallback(o=>k(l=>{if(typeof o!="string")return l;const u=g({},l);return delete u[o],u}),[]),L=a.useCallback(o=>A(l=>{if(typeof o!="string")return l;const u=fe(o,l);return delete u[o],u}),[]),z=a.useCallback((o,l)=>{const u=Y(o,c);L(o),I(d=>C(g({},d),{[o]:!0})),j(d=>{const E=R(o,l,d);if(u){const $=N(o,b,E);$.hasError?h(o,$.error):F(o)}return f==null||f(E),E}),!u&&i&&h(o,null)},[]),pe=a.useCallback(o=>{j(l=>{const u=typeof o=="function"?o(l):o,d=g(g({},l),u);return f==null||f(d),d}),i&&V()},[]),ye=a.useCallback((o,l)=>{L(o),j(u=>{const d=Le(o,l,u);return f==null||f(d),d}),P(u=>Ve(o,l,u))},[]),Oe=a.useCallback((o,l)=>{L(o),j(u=>{const d=Ce(o,l,u);return f==null||f(d),d}),P(u=>ie(o,l,u,-1))},[]),_e=a.useCallback((o,l,u)=>{L(o),j(d=>{const E=Be(o,l,u,d);return f==null||f(E),E}),P(d=>ie(o,u,d,1))},[]),Z=a.useCallback(()=>{const o=q(b,y);return P(o.errors),o},[y,b]),be=a.useCallback(o=>{const l=N(o,b,y);return l.hasError?h(o,l.error):F(o),l},[y,b]),me=(o,{type:l="input",withError:u=!0,withFocus:d=!0}={})=>{const $={onChange:Ze(w=>z(o,w))};return u&&($.error=H[o]),l==="checkbox"?$.checked=v(o,y):$.value=v(o,y),d&&($.onFocus=()=>I(w=>C(g({},w),{[o]:!0})),$.onBlur=()=>{if(Y(o,p)){const w=N(o,b,y);w.hasError?h(o,w.error):F(o)}}),$},Ee=(o,l)=>u=>{u==null||u.preventDefault();const d=Z();d.hasErrors?l==null||l(d.errors,y,u):o==null||o(O(y),u)},$e=o=>O(o||y),ve=a.useCallback(o=>{o.preventDefault(),X()},[]),ge=o=>{if(o){const u=v(o,T);if(typeof u=="boolean")return u;const d=v(o,y),E=v(o,D.current);return!J(d,E)}return Object.keys(T).length>0?ce(T):!J(y,D.current)},je=a.useCallback(o=>ce(m,o),[m]),Pe=a.useCallback(o=>o?!N(o,b,y).hasError:!q(b,y).hasErrors,[y,b]),G={values:y,errors:H,setValues:pe,setInitialValues:B,setErrors:k,setFieldValue:z,setFieldError:h,clearFieldError:F,clearErrors:V,reset:X,validate:Z,validateField:be,reorderListItem:ye,removeListItem:Oe,insertListItem:_e,getInputProps:me,onSubmit:Ee,onReset:ve,isDirty:ge,isTouched:je,setTouched:I,setDirty:A,resetTouched:K,resetDirty:de,isValid:Pe,getTransformedValues:$e};return ze(t,G),G}export{er as u};
